webpackJsonp([2],{O4VE:function(t,e){},dZ50:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("ZyLO"),s={name:"",data:function(){return{value6:null,productName:"",product:{firstPage:!0,lastPage:!0,list:[],pageNumber:1,pageSize:6,totalPage:1,totalRow:0},type_list:[],type_1:{},type_2:{},type_3:{}}},methods:{delete_1:function(t,e){var i=this;this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e==i.product.list.length-1&&i.product.pageNumber>1&&i.product.pageNumber--,Object(a.b)("post","/mall/mobile/product/deleteProduct",{id:t.id},i.deleteProduct)}).catch(function(){})},deleteProduct:function(t){console.log(t),this.$message({showClose:!0,type:"success",message:t}),this.backShowProducts()},change_type:function(t){1==t?(this.type_2=this.type_1.child&&this.type_1.child[0]?this.type_1.child[0]:{},this.type_3=this.type_2.child&&this.type_2.child[0]?this.type_2.child[0]:{}):2==t&&(this.type_3=this.type_2.child&&this.type_2.child[0]?this.type_2.child[0]:{}),this.product.num=1,this.backShowProducts()},change_productName:function(){this.product.num=1,this.backShowProducts()},handleCurrentChange:function(t){console.log("点击分页",t),this.product.pageNumber=t,this.backShowProducts()},change_time:function(){this.product.num=1,console.log(this.value6),this.backShowProducts()},backShowProducts:function(){var t=new Object;t.size=this.product.pageSize,t.num=this.product.pageNumber,t.statTime=this.value6?this.value6[0]:"",t.endTime=this.value6?this.value6[1]:"",t.productName=this.productName;var e="";e=this.type_3.id?this.type_3.id:this.type_2.id?this.type_2.id:this.type_1.id?this.type_1.id:"",t.categoryId=e,t.type=""==t.statTime&&""==t.endTime&&""==t.productName&&""==t.categoryId?0:1,Object(a.b)("post","/mall/mobile/product/backShowProducts",t,this.backShowProducts_return)},backShowProducts_return:function(t){console.log("自营商品",t);for(var e=0;e<t.list.length;e++)t.list[e].imagepath=t.list[e].imagepath.split(",");this.product=t},productCategory:function(){Object(a.b)("get","/mall/mobile/productCategory","",this.productCategory_return)},productCategory_return:function(t){console.log("产品分类",t),this.type_list=t.data,this.type_list.unshift({id:"",name:"全部"}),console.log(this.type_list),this.type_1=this.type_list[0]}},mounted:function(){this.backShowProducts(),this.productCategory()},created:function(){}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"productList"}},[t._m(0),t._v(" "),i("section",{staticClass:"content"},[i("div",{staticClass:"box"},[i("div",{staticClass:"box-body"},[i("ul",{staticClass:"query_1"},[i("li",[i("div",[t._v("发布时间：")]),t._v(" "),i("div",{staticClass:"input_box"},[i("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(e){t.change_time()}},model:{value:t.value6,callback:function(e){t.value6=e},expression:"value6"}})],1)]),t._v(" "),i("li",[i("div",[t._v("类型：")]),t._v(" "),i("div",{staticClass:"select_box"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.type_1,expression:"type_1"}],staticClass:"form-control",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type_1=e.target.multiple?i:i[0]},function(e){t.change_type(1)}]}},t._l(t.type_list,function(e){return i("option",{domProps:{value:e}},[t._v(t._s(e.name))])})),t._v(" "),t.type_1.child&&t.type_1.child.length>0?i("select",{directives:[{name:"model",rawName:"v-model",value:t.type_2,expression:"type_2"}],staticClass:"form-control",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type_2=e.target.multiple?i:i[0]},function(e){t.change_type(2)}]}},t._l(t.type_1.child,function(e){return i("option",{domProps:{value:e}},[t._v(t._s(e.name))])})):t._e(),t._v(" "),t.type_2.child&&t.type_2.child.length>0?i("select",{directives:[{name:"model",rawName:"v-model",value:t.type_3,expression:"type_3"}],staticClass:"form-control",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.type_3=e.target.multiple?i:i[0]},function(e){t.change_type(3)}]}},t._l(t.type_2.child,function(e){return i("option",{domProps:{value:e}},[t._v(t._s(e.name))])})):t._e()])]),t._v(" "),i("li",[i("div",[t._v("查询名称：")]),t._v(" "),i("div",{staticClass:"input_box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.productName,expression:"productName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.productName},on:{blur:function(e){t.change_productName()},input:function(e){e.target.composing||(t.productName=e.target.value)}}})])])])])]),t._v(" "),i("div",{staticClass:"box"},[t._m(1),t._v(" "),i("div",{staticClass:"box-body",staticStyle:{"min-height":"500px"}},[i("table",{staticClass:"table table-bordered"},[t._m(2),t._v(" "),i("tbody",t._l(t.product.list,function(e,a){return i("tr",[i("td",[t._v(t._s(e.productname))]),t._v(" "),i("td",[i("div",{staticClass:"img_box"},t._l(e.imagepath,function(e){return e?i("img",{attrs:{src:e}}):t._e()}))]),t._v(" "),i("td",[t._v(t._s(e.salecounts?e.salecounts:0))]),t._v(" "),i("td",[i("a",{staticClass:"btn btn-xs btn-info",attrs:{href:"#/index/commodityUpload?id="+e.id}},[i("i",{staticClass:"glyphicon glyphicon-pencil"})]),t._v(" "),i("button",{staticClass:"btn btn-xs btn-danger",on:{click:function(i){t.delete_1(e,a)}}},[i("i",{staticClass:"glyphicon glyphicon-remove"})])])])}))])]),t._v(" "),i("div",{staticClass:"box-footer clearfix"},[i("el-pagination",{staticClass:"pull-right",attrs:{"current-page":t.product.pageNumber,"page-size":t.product.pageSize,layout:"total, prev, pager, next, jumper",total:t.product.totalRow},on:{"current-change":t.handleCurrentChange}})],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"content-header"},[e("h1",[this._v("\n\t        \t\t产品列表\n\t        \t\t"),e("small",[this._v("Version 1.0")])]),this._v(" "),e("ol",{staticClass:"breadcrumb"},[e("li",[e("a",{attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-dashboard"}),this._v(" Home")])]),this._v(" "),e("li",{staticClass:"active"},[this._v("Dashboard")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box-header"},[e("div",{staticClass:"box-title"},[this._v("\n\t\t\t\t\t\t产品列表\n\t\t\t\t\t")]),this._v(" "),e("div",{staticClass:"box-tools"},[e("a",{staticClass:"btn btn-sm btn-info btn-flat",attrs:{href:"#/index/commodityUpload"}},[this._v("发布直营店产品")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("名称")]),this._v(" "),e("th",[this._v("产品图片")]),this._v(" "),e("th",[this._v("销量")]),this._v(" "),e("th",{staticClass:"w100"},[this._v("操作")])])])}]};var n=i("VU/8")(s,o,!1,function(t){i("O4VE")},null,null);e.default=n.exports}});
//# sourceMappingURL=2.b76cfe122293555bb01c.js.map